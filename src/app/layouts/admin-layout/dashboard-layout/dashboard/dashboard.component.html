<div *ngIf="loading" class="loading">Loading...</div>

<div *ngIf="!loading">
    <!-- Grid Section -->
    <section class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">
        <!-- Total Books -->
        <div class="flex items-center p-8 bg-white shadow rounded-lg">
            <div
                class="inline-flex flex-shrink-0 items-center justify-center h-16 w-16 text-purple-600 bg-purple-100 rounded-full mr-6">
                <mat-icon>library_books</mat-icon>
            </div>
            <div>
                <span class="block text-2xl font-bold">{{ data.totalBooks }}</span>
                <span class="block text-gray-500">Products</span>
            </div>
        </div>

        <!-- Total Sales -->
        <div class="flex items-center p-8 bg-white shadow rounded-lg">
            <div
                class="inline-flex flex-shrink-0 items-center justify-center h-16 w-16 text-green-600 bg-green-100 rounded-full mr-6">
                <mat-icon>attach_money</mat-icon>
            </div>
            <div>
                <span class="block text-2xl font-bold">${{ data.totalSales }}</span>
                <span class="block text-gray-500">Total Sales</span>
            </div>
        </div>

        <!-- Trending Books -->
        <div class="flex items-center p-8 bg-white shadow rounded-lg">
            <div
                class="inline-flex flex-shrink-0 items-center justify-center h-16 w-16 text-red-600 bg-red-100 rounded-full mr-6">
                <mat-icon>trending_up</mat-icon>
            </div>
            <div>
                <span class="block text-2xl font-bold">{{ data.trendingBooks }}</span>
                <span class="block text-gray-500">Trending Books</span>
            </div>
        </div>

        <!-- Total Orders -->
        <div class="flex items-center p-8 bg-white shadow rounded-lg">
            <div
                class="inline-flex flex-shrink-0 items-center justify-center h-16 w-16 text-blue-600 bg-blue-100 rounded-full mr-6">
                <mat-icon>shopping_cart</mat-icon>
            </div>
            <div>
                <span class="block text-2xl font-bold">{{ data.totalOrders }}</span>
                <span class="block text-gray-500">Total Orders</span>
            </div>
        </div>
    </section>

    <!-- Revenue Chart -->
    <section class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 xl:grid-rows-3 xl:grid-flow-col gap-6 mt-6">
        <div class="flex flex-col md:col-span-2 md:row-span-2 bg-white shadow rounded-lg">
            <div class="px-6 py-5 font-semibold border-b border-gray-100">The number of orders per month</div>
            <div class="p-4 flex-grow">
                <div
                    class="flex items-center justify-center h-full px-4 py-16 text-gray-400 text-3xl font-semibold bg-gray-100 border-2 border-gray-200 border-dashed rounded-md">
                    <!-- RevenueChart Placeholder -->
                    <app-revenue-chart></app-revenue-chart>
                </div>
            </div>
        </div>
        <div class="flex items-center p-8 bg-white shadow rounded-lg">
            <div
                class="inline-flex flex-shrink-0 items-center justify-center h-16 w-16 text-yellow-600 bg-yellow-100 rounded-full mr-6">
                <svg aria-hidden="true" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-6 w-6">
                    <path fill="#fff" d="M12 14l9-5-9-5-9 5 9 5z"></path>
                    <path fill="#fff"
                        d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z">
                    </path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222">
                    </path>
                </svg>
            </div>
            <div>
                <span class="block text-2xl font-bold">02</span>
                <span class="block text-gray-500">Orders left</span>
            </div>
        </div>
        <div class="flex items-center p-8 bg-white shadow rounded-lg">
            <div
                class="inline-flex flex-shrink-0 items-center justify-center h-16 w-16 text-teal-600 bg-teal-100 rounded-full mr-6">
                <mat-icon>visibility</mat-icon> <!-- Angular Material icon for visibility (eye symbol) -->
            </div>
            <div>
                <span class="block text-2xl font-bold">139</span>
                <span class="block text-gray-500">Website visits (last day)</span>
            </div>
        </div>
        <div class="row-span-3 bg-white shadow rounded-lg">
            <div class="flex items-center justify-between px-6 py-5 font-semibold border-b border-gray-100">
                <span>Users by average order</span>
                <button type="button"
                    class="inline-flex justify-center rounded-md px-1 -mr-1 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-600"
                    id="options-menu" aria-haspopup="true" aria-expanded="true">
                    Descending
                    <mat-icon>arrow_drop_down</mat-icon>
                </button>
            </div>

            <div class="overflow-y-auto" style="max-height: 24rem;">
                <ul class="p-6 space-y-6">
                    <li class="flex items-center" *ngFor="let user of users">
                        <div class="h-10 w-10 mr-3 bg-gray-100 rounded-full overflow-hidden">
                            <img [src]="user.profilePicture" [alt]="user.name + ' profile picture'" />
                        </div>
                        <span class="text-gray-600">{{ user.name }}</span>
                        <span class="ml-auto font-semibold">{{ user.rating }}</span>
                    </li>
                </ul>
            </div>
        </div>
        <div class="flex flex-col row-span-3 bg-white shadow rounded-lg">
            <div class="px-6 py-5 font-semibold border-b border-gray-100">
                Students by type of studying
            </div>
            <div class="p-4 flex-grow">
                <div
                    class="flex items-center justify-center h-full px-4 py-24 text-gray-400 text-3xl font-semibold bg-gray-100 border-2 border-gray-200 border-dashed rounded-md">
                    Chart Placeholder
                </div>
            </div>
        </div>
    </section>
</div>